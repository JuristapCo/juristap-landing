---
import SectionContainer from '../../components/ui/section-container.astro';
import { Image } from 'astro:assets';
import PatternHero from '../../assets/images/patterns/pattern-hero.webp';

// Enhanced structured data for the welcome section
const welcomeStructuredData = {
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: 'Juristap',
  description:
    'Conectamos con abogados especializados en menos de 24 horas. Tu solución legal rápida y confiable.',
  url: 'https://juristap.com',
  potentialAction: {
    '@type': 'SearchAction',
    target: 'https://juristap.com/buscar?q={search_term_string}',
    'query-input': 'required name=search_term_string',
  },
};

const organizationStructuredData = {
  '@context': 'https://schema.org',
  '@type': 'Organization',
  name: 'Juristap',
  url: 'https://juristap.com',
  logo: 'https://juristap.com/logo.png',
  description:
    'Plataforma de conexión legal inteligente que conecta abogados con clientes calificados',
  sameAs: [
    'https://www.linkedin.com/company/juristap',
    'https://twitter.com/juristap',
    'https://www.facebook.com/juristap',
  ],
};
---

<SectionContainer
  background="bg-primary text-white"
  withSpacing={false}
  constrained={false}
  py="py-0"
  id="hero"
  title="Bienvenida a Juristap - Plataforma de Asesoría Legal Inteligente"
  role="banner"
  aria-label="Sección principal de Juristap - Encuentra tu abogado ideal en tiempo récord"
  metadata={{
    description:
      'Conectamos con abogados especializados en menos de 24 horas. Tu solución legal rápida y confiable.',
    keywords: [
      'abogados',
      'servicios legales',
      'asesoría jurídica',
      'juristap',
      'abogados especializados',
      'plataforma legal',
      'asesoría legal 24 horas',
    ],
  }}
  itemscope
  itemtype="https://schema.org/WebSite"
>
  <div
    class="absolute inset-0 w-full h-full pointer-events-none overflow-hidden"
    aria-hidden="true"
    role="presentation"
  >
    <div
      class="absolute inset-0 w-full h-full pointer-events-none overflow-hidden"
      style="background:linear-gradient(135deg, #0b0014 0%, #31005c 50%, #0b0014 100%); opacity:0.85;"
      role="presentation"
    >
    </div>
    <Image
      src={PatternHero}
      alt="Patrón de fondo decorativo de Juristap"
      class="absolute inset-0 w-full h-full object-cover object-center opacity-10 mix-blend-overlay"
      width={1920}
      height={1080}
      loading="eager"
      fetchpriority="high"
      decoding="async"
      itemprop="image"
    />
  </div>

  <!-- Decorative elements -->
  <div
    class="absolute top-0 right-0 w-64 h-64 bg-purple-800/10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2 pointer-events-none"
    aria-hidden="true"
    role="presentation"
  >
  </div>
  <div
    class="absolute bottom-0 left-0 w-96 h-96 bg-purple-700/10 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/4 pointer-events-none"
    aria-hidden="true"
    role="presentation"
  >
  </div>

  <!-- Subtle grid pattern -->
  <div
    class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(to_right,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:80px_80px] opacity-5 pointer-events-none"
    aria-hidden="true"
    role="presentation"
  >
  </div>

  <div
    class="max-w-[1440px] mx-auto px-4 md:px-6 lg:px-8 xl:px-24 py-32 lg:py-32 xl:py-24 2xl:py-32"
  >
    <div class="flex flex-col lg:flex-row md:items-center md:justify-between gap-12 relative z-10">
      <div
        class="lg:w-1/3 xl:w-1/3 2xl:w-1/3 relative flex justify-center items-center order-2 lg:order-1"
      >
        <figure
          class="character-container w-[80%] md:w-[100%] relative"
          role="img"
          aria-label="Ilustración representativa de Juristap - Plataforma de conexión legal"
          itemscope
          itemtype="https://schema.org/ImageObject"
        >
          <!--?xml version="1.0" encoding="UTF-8"?-->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 577.71 835.71"
            width="100%"
            height="auto"
            class="welcome-character-svg"
            aria-hidden="true"
            role="presentation"
          >
            <defs>
              <style>
                .st0 {
                  fill: #fff;
                }

                .st1 {
                  fill: none;
                }

                .st2 {
                  filter: url(#drop-shadow-1);
                }
              </style>
              <filter
                id="drop-shadow-1"
                x="86.29"
                y="73.81"
                width="430.88"
                height="726.96"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="11.81" dy="11.81"></feOffset>
                <feGaussianBlur result="blur" stdDeviation="8.44"></feGaussianBlur>
                <feFlood flood-color="#000" flood-opacity=".25"></feFlood>
                <feComposite in2="blur" operator="in"></feComposite>
                <feComposite in="SourceGraphic"></feComposite>
              </filter>
            </defs>
            <g class="st2">
              <path
                class="st1 welcome-phone-path"
                d="M219.13,424.94c.98,10.84,10.57,18.83,21.4,17.84l30.09-2.73c10.84-.98,18.83-10.57,17.84-21.4l-2.73-30.09c-.98-10.84-10.57-18.83-21.4-17.84l-30.09,2.73c-10.84.98-18.83,10.57-17.84,21.4l2.73,30.09ZM246.54,382.24l24.07-2.18c3.58-.32,6.74,2.31,7.06,5.89l3.27,36.1c.32,3.58-2.31,6.74-5.89,7.06l-24.07,2.18c-3.58.32-6.74-2.31-7.06-5.89l-3.27-36.1c-.32-3.58,2.31-6.74,5.89-7.07Z"
              ></path>
              <polygon
                class="st1 welcome-legs-path"
                points="283.98 522.01 271.74 615.83 304.72 652.25 331.08 610.44 301.41 520.39 283.98 522.01"
              ></polygon>
              <path
                class="st1 welcome-phone-screen-path"
                d="M297.32,385.3l2.16,23.77c.71,7.78,7.59,13.52,15.37,12.81l19.53-1.77c7.78-.71,13.52-7.59,12.81-15.37l-2.16-23.77c-.71-7.78-7.59-13.52-15.37-12.81l-19.53,1.77c-7.78.71-13.52,7.59-12.81,15.37ZM307.64,379.07l17.04-1.55c2.18-.2,4.11,1.41,4.3,3.59l2.45,27.03c.2,2.18-1.41,4.11-3.59,4.3l-17.04,1.55c-2.18.2-4.11-1.41-4.3-3.59l-2.45-27.03c-.2-2.18,1.41-4.11,3.59-4.3Z"
              ></path>
              <path
                class="st0 welcome-hand-left"
                d="M148.36,526.22c-3.45,1.45,3.93,21.32-.8,23.54-5.78,2.71-19-26.02-31.47-23.54-7.29,1.45-11.67,13.05-11.73,21.6-.14,18.87,20.6,39.37,40.37,35.45,9.53-1.89,18.62-9.42,21.69-19.57,6-19.85-14.28-39.06-18.06-37.47Z"
              ></path>
              <path
                class="st0 welcome-hand-right"
                d="M507.46,393.62c-1.6-8.4-7.99-19.02-15.42-19.13-12.71-.19-20.54,30.44-26.72,28.82-5.05-1.32-1.37-22.2-5.02-23.01-4.01-.88-20.5,21.66-11.03,40.11,4.84,9.43,15.14,15.2,24.86,15.34,20.15.30,36.86-23.60,33.33-42.13Z"
              ></path>
              <path
                class="st0 welcome-character-body"
                d="M301.12,514.79l-17.76,1.61-12.48-24.6c-64.58.53-104.84-23.6-104.84-23.6l150.91,295.37,91.54-317.36s-33.67,32.09-99.52,42.45l-7.85,26.14ZM304.72,652.25l-32.98-36.42,12.24-93.82,17.43-1.62,29.67,90.05-26.36,41.81Z"
              ></path>
              <!-- Agrupar cabeza y ojos para que se muevan juntos -->
              <g class="welcome-character-head">
                <path
                  d="M288.79,470.33c145.2-13.17,160.99-165.14,161.27-167.99h.01s-.01,0-.01,0c0-.02,0-.06,0-.06h-.07S171.71,87.53,171.71,87.53l55.41,149.84-127.23,96.61v.06s42.32,149.58,188.89,136.29ZM329.66,368.16c7.78-.71,14.66,5.03,15.37,12.81l2.16,23.77c.71,7.78-5.03,14.66-12.81,15.37l-19.53,1.77c-7.78.71-14.66-5.03-15.37-12.81l-2.16-23.77c-.71-7.78,5.03-14.66,12.81-15.37l19.53-1.77ZM270.66,253.83l8.31,27.3h28.54s-53.23,33.34-53.23,33.34l16.38-60.64ZM234.24,373.45l30.09-2.73c10.84-.98,20.42,7,21.4,17.84l2.73,30.09c.98,10.84-7,20.42-17.84,21.4l-30.09,2.73c-10.84.98-20.42-7-21.4-17.84l-2.73-30.09c-.98-10.84,7-20.42,17.84-21.4Z"
                  class="st0"></path>
                <path
                  class="st0 welcome-eye-left"
                  d="M250.99,431.29l24.07-2.18c3.58-.32,6.21-3.49,5.89-7.06l-3.27-36.1c-.32-3.58-3.49-6.21-7.06-5.89l-24.07,2.18c-3.58.32-6.21,3.49-5.89,7.07l3.27,36.1c.32,3.58,3.49,6.21,7.06,5.89Z"
                ></path>
                <rect
                  class="st0 welcome-eye-right"
                  x="307"
                  y="378"
                  width="25"
                  height="35"
                  rx="7"
                  ry="7"></rect>
              </g>
            </g>
          </svg>
          <figcaption class="sr-only" itemprop="caption">
            Ilustración animada que representa la plataforma Juristap conectando personas con
            abogados especializados
          </figcaption>
        </figure>
      </div>

      <div class="lg:w-2/3 xl:w-2/3 space-y-6 order-1 lg:order-2">
        <header class="space-y-2 sm:space-y-0">
          <h1
            class="text-3xl sm:text-4xl md:text-5xl lg:text-5xl xl:text-5xl font-light tracking-tight leading-tight"
            itemprop="headline"
          >
            ¡Hey, abogado!
          </h1>
          <h2
            class="text-3xl sm:text-4xl md:text-5xl lg:text-5xl xl:text-5xl font-bold tracking-tight leading-tight"
            itemprop="alternativeHeadline"
          >
            No estudiaste 5 años para perseguir clientes
          </h2>
        </header>

        <div class="space-y-3 sm:space-y-4 text-sm sm:text-lg md:text-xl lg:text-xl xl:text-2xl">
          <p
            class="text-secondary text-lg sm:text-2xl md:text-3xl lg:text-2xl xl:text-4xl font-semibold leading-relaxed"
            itemprop="description"
          >
            Nosotros los llevamos a ti
          </p>

          <p
            class="text-white/90 text-sm sm:text-base md:text-md max-w-xl leading-relaxed"
            itemprop="description"
          >
            Juristap es la nueva forma de <span class="font-bold">conectar</span> con clientes a tan
            solo unos clicks y con total <span class="font-bold">independencia</span>
          </p>
        </div>

        <nav
          class="flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6"
          aria-label="Navegación principal"
          role="navigation"
        >
          <a
            href="#register"
            class="w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-2 rounded-lg text-primary-500 bg-secondary-400 hover:bg-secondary-500 transition-colors duration-300 text-center relative z-20 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-primary text-base sm:text-lg"
            aria-label="Regístrate en Juristap para encontrar tu abogado ideal"
            role="button"
          >
            Regístrate
          </a>
        </nav>
      </div>
    </div>
  </div>
</SectionContainer>

<script type="application/ld+json" set:html={JSON.stringify(welcomeStructuredData)} />
<script type="application/ld+json" set:html={JSON.stringify(organizationStructuredData)} />

<style>
  /* Character container with entrance animation */
  .character-container {
    transform: translateY(20px);
    opacity: 0;
    animation: welcome-float-in 1s ease forwards;
    will-change: transform, opacity;
  }

  @keyframes welcome-float-in {
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Main character floating animation */
  .welcome-character-svg {
    animation: welcome-floating 6s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-floating {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-10px) rotate(1deg);
    }
  }

  /* Head movement */
  .welcome-character-head {
    transform-origin: center;
    animation: welcome-head-bob 4s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-head-bob {
    0%,
    100% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(1deg);
    }
    75% {
      transform: rotate(-1deg);
    }
  }

  /* Body movement */
  .welcome-character-body {
    animation: welcome-body-sway 8s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-body-sway {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(2px);
    }
  }

  /* Hand animations */
  .welcome-hand-left {
    transform-origin: 30% 50%;
    animation: welcome-hand-wave-left 3s ease-in-out infinite;
    will-change: transform;
  }

  .welcome-hand-right {
    transform-origin: 70% 50%;
    animation: welcome-hand-wave-right 3s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-hand-wave-left {
    0%,
    100% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(-5deg);
    }
  }

  @keyframes welcome-hand-wave-right {
    0%,
    100% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(5deg);
    }
  }

  /* Eye animations */
  .welcome-eye-left {
    animation: welcome-blink 4s ease-in-out infinite;
    transform-origin: center;
    will-change: transform, opacity;
  }
  .welcome-eye-right {
    transform-origin: center;
    animation: welcome-blink-right 4s ease-in-out infinite;
    will-change: transform, opacity;
  }

  @keyframes welcome-blink {
    0%,
    96%,
    100% {
      transform: scale(1);
      opacity: 1;
    }
    98% {
      transform: scale(0.95);
      opacity: 0.2;
    }
  }

  @keyframes welcome-blink-right {
    0%,
    96%,
    100% {
      transform: rotate(-5deg) scale(1);
      opacity: 1;
    }
    98% {
      transform: rotate(-5deg) scale(0.95);
      opacity: 0.2;
    }
  }

  /* Phone animations */
  .welcome-phone-path {
    animation: welcome-phone-tilt 5s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-phone-tilt {
    0%,
    100% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(-2deg);
    }
  }

  /* Phone screen glow effect */
  .welcome-phone-screen-path {
    animation: welcome-screen-glow 3s ease-in-out infinite;
    will-change: filter;
  }

  @keyframes welcome-screen-glow {
    0%,
    100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.2);
    }
  }

  /* Legs movement */
  .welcome-legs-path {
    animation: welcome-legs-sway 6s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes welcome-legs-sway {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(2px);
    }
  }

  /* Cloud animations */
  .cloud-left {
    animation: cloud-drift-left 15s ease-in-out infinite;
    transform-origin: center;
    will-change: transform;
  }

  @keyframes cloud-drift-left {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(-10px) scale(1.05);
    }
  }

  .cloud-right {
    animation: cloud-drift-right 18s ease-in-out infinite;
    transform-origin: center;
    will-change: transform;
  }

  @keyframes cloud-drift-right {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(10px) scale(1.05);
    }
  }

  /* Reduce motion if user prefers it */
  @media (prefers-reduced-motion: reduce) {
    .character-container,
    .welcome-character-svg,
    .welcome-character-head,
    .welcome-character-body,
    .welcome-hand-left,
    .welcome-hand-right,
    .welcome-eye-left,
    .welcome-eye-right,
    .welcome-phone-path,
    .welcome-phone-screen-path,
    .welcome-legs-path,
    .cloud-left,
    .cloud-right {
      animation: none;
    }
  }
</style>
